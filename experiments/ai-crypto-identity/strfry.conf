relay {
    bind = "0.0.0.0"
    port = 7777
    
    # Allow all events (dev mode)
    # In production, set authorized = true and configure allowed pubkeys
    authorized = false
    
    # Event validation
    validateEvent = true
    
    # Limits
    maxEventSize = 64000
    maxMessageSize = 256000
    maxFilterSize = 1000
    
    # Rate limiting (relaxed for local dev)
    maxEventsPerMinute = 1000
    maxSubscriptionsPerClient = 20
    
    # Retention
    eventsToKeep = 10000
    
    # Database
    db = "strfry-db"
    
    # Logging
    logging = {
        dumpInAll = false
        dumpInEvents = false
        dumpInReqs = false
        dbScan = false
        
        # Log levels: trace, debug, info, warn, error, fatal
        level = "info"
    }
    
    # Info document (NIP-11)
    info = {
        name = "Riff AI Identity Relay"
        description = "Local relay for AI identity and memory persistence"
        pubkey = ""
        contact = ""
        supported_nips = [1, 2, 4, 9, 11, 40, 42, 50, 65]
        software = "strfry"
        version = "latest"
    }
    
    # CORS (allow local development)
    cors = {
        enabled = true
        allowedOrigins = ["*"]
    }
}
